<!-- app/views/urls/show.html.erb -->

<div class="max-w-2xl mx-auto bg-white p-6 rounded shadow">
  <h2 class="text-2xl font-semibold mb-4">Short URL Details</h2>

  <div class="mb-4">
    <p><strong>Short URL:</strong>
      <a href="<%= short_url(@url.short_code) %>" class="text-blue-500" target="_blank">
        <%= request.base_url %>/<%= @url.short_code %>
      </a>
    </p>
    <p><strong>Original URL:</strong>
      <a href="<%= @url.original_url %>" class="text-blue-500" target="_blank">
        <%= @url.original_url %>
      </a>
    </p>
    <p><strong>Title:</strong> <%= @url.title %></p>
  </div>

  <h3 class="text-xl font-semibold mt-6 mb-2">Usage Report</h3>
  <table class="min-w-full bg-white rounded shadow">
    <thead>
      <tr>
        <th class="py-2 px-4 border-b">Timestamp</th>
        <th class="py-2 px-4 border-b">State</th>
        <th class="py-2 px-4 border-b">Country</th>
        <th class="py-2 px-4 border-b">IP Address</th>
      </tr>
    </thead>
    <tbody>
      <% @visits.each do |visit| %>
        <tr>
          <td class="py-2 px-4 border-b"><%= visit.created_at.strftime("%Y-%m-%d %H:%M:%S") %></td>
          <td class="py-2 px-4 border-b"><%= visit.state %></td>
          <td class="py-2 px-4 border-b"><%= visit.country %></td>
          <td class="py-2 px-4 border-b"><%= visit.ip_address %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
